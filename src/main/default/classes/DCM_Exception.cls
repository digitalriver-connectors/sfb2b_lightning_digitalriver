/**
 * @description       : Generic Custom Exception Class
 * @author            : Girish Kalidindi
 * @group             :
 * @last modified on  : 03-31-2021
 * @last modified by  : Devanshu Sood
 * Modifications Log
 * Ver   Date         Author             Modification
 * 1.0   03-31-2021   Girish Kalidindi   Initial Version
**/
public inherited sharing virtual class DCM_Exception extends Exception {
    public String methodName;
    public String stackTraceAsString;

    /**
    * @description
    * @author Girish Kalidindi | 08-08-2020
    * @param methodName Method where the exception was thrown from
    * @param customExceptionMessage Custom Exception Message
    **/
    public DCM_Exception(String methodName, String customExceptionMessage) {
        this.methodName = methodName;
        this.setMessage(customExceptionMessage);
    }

    /**
    * @description 
    * @author Girish Kalidindi | 08-08-2020
    * @param methodName Method where the exception was thrown from
    * @param customExceptionMessage Custom Exception Message
    * @param parentExceptionMessage Exception Message generated by OOTB System Exception
    * @param stackTrace Stacktrace of OOTB System Exception
    **/
    public DCM_Exception(String methodName, String customExceptionMessage, String parentExceptionMessage, String stackTrace) {
        this.methodName = methodName;
        this.stackTraceAsString = stackTrace;
        this.setMessage(customExceptionMessage + '; ' + parentExceptionMessage);
    }

    /**
    * @description Generate Stacktrace for Custom Exceptions (OOTB StackTrace is generated only for System Exceptions)
    * @author Girish Kalidindi | 08-08-2020
    * @return String Custom Exception StackTrace
    **/
    public virtual String getStackTraceForCustomExceptions() {
        String customExceptionStackTrace = new DmlException().getStackTraceString(); // Create dummy exception to create Stacktrace for custom exceptions
        return customExceptionStackTrace;
    }
}